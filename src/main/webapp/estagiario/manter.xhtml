<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
<link rel="stylesheet" href="css/styles.css"></link>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Manter Estagiário</title>
</h:head>
<body>
	<div>
	<a href = '../sigest'><button class = 'button btn-voltar'>Voltar para o menu</button></a>
		<h1>Sistema Gerenciador de Estágios - SIGEST</h1>
		<hr />

		<h:form>
			<p:panel id="panel" header="Cadastro de Estagiários">

				<p:messages id="messages"/>

				<h:panelGrid columns="3" >

					<h:outputLabel for="matricula" value="Matrícula:" />
					<p:inputText id="matricula" value="#{estagiarioBean.estagiario.matricula}"
						label="matricula" required="true" requiredMessage="Campo Obrigatório">
					</p:inputText>

					<h:outputLabel for="nome" value="Nome:" />
					<p:inputText id="nome" value="#{estagiarioBean.estagiario.nome}"
						label="nome" required="true" requiredMessage="Campo Obrigatório">
					</p:inputText>

					<h:outputLabel for="curso" value="Curso:" />
          <p:selectOneMenu value="#{cursoBean.nome}">
            <f:selectItem itemLabel="Selecione um curso" itemValue="" />
            <f:selectItems value="#{cursoBean.cursos}" />
          </p:selectOneMenu>

				</h:panelGrid>
			</p:panel>

			<p:commandButton value="Inserir estagiário" update="panel, messages" action="#{estagiarioBean.incluir}" />
			<p:commandButton immediate="true" ajax="false" update=":form1:dataTable" value="Pesquisar" action="#{estagiarioBean.listar}" />
		</h:form>

		<h:form>
			<p:messages id="messages" />
			<p:dataTable id="dataTable" var="estagiario" value="#{estagiarioBean.estagiarios}" paginator="true" rows="10">
				<f:facet name="header">
                    Lista de Estagiários
        </f:facet>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Codigo" />
					</f:facet>
					<h:outputText value="#{estagiario.codigo}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Nome" />
					</f:facet>
					<h:outputText value="#{estagiario.nome}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Matrícula" />
					</f:facet>
					<h:outputText value="#{estagiario.matricula}" />
				</p:column>

				<h:selectOneMenu id="cursos" value="#{estagiario.curso}"
				required="true">
					<f:selectItem itemLabel="Selecione um curso" itemValue="" />
					<f:selectItems value="#{cursoBean.cursos}" />
				</h:selectOneMenu>

             </p:dataTable>
		</h:form>
        <hr />
	</div>
</body>
</html>
